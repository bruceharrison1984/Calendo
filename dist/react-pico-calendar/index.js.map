{"version":3,"file":"index.js","sources":["../../packages/Schedulely/src/types/DateAdapter.ts","../../packages/Schedulely/src/providers/ActionProvider.tsx","../../packages/Schedulely/src/hooks/useScreenSize.ts","../../packages/Schedulely/src/providers/CalendarProvider.tsx","../../packages/Schedulely/src/components/defaultDay/DefaultDay.tsx","../../packages/Schedulely/src/components/defaultEvent/DefaultEvent.tsx","../../packages/Schedulely/src/components/defaultHeader/DefaultHeader.tsx","../../packages/Schedulely/src/providers/ComponentProvider.tsx","../../packages/Schedulely/src/providers/HightlightProvider.tsx","../../packages/Schedulely/src/hooks/useCalendar.tsx","../../packages/Schedulely/src/layouts/dayOfWeekLayout/DayOfWeekLayout.tsx","../../packages/Schedulely/src/hooks/useEventHighlight.tsx","../../packages/Schedulely/src/hooks/useEventIntersection.tsx","../../packages/Schedulely/src/layouts/eventPositionLayout/EventPositionLayout.tsx","../../packages/Schedulely/src/hooks/useActions.tsx","../../packages/Schedulely/src/hooks/useComponents.tsx","../../packages/Schedulely/src/layouts/eventWeekLayout/EventWeekLayout.tsx","../../packages/Schedulely/src/hooks/useKeyboardControls.tsx","../../packages/Schedulely/src/layouts/headerLayout/HeaderLayout.tsx","../../packages/Schedulely/src/layouts/weekLayout/WeekLayout.tsx","../../packages/Schedulely/src/layouts/monthLayout/MonthLayout.tsx","../../packages/Schedulely/src/dateAdapters/date.ts","../../packages/Schedulely/src/Schedulely.tsx"],"sourcesContent":["/**\r\n * Common interface for porting date libraries so they can be used with Schedulely\r\n */\r\nexport interface DateTimeAdapter {\r\n  /** Add the specified number of months to the date. Using a negative value will subtract that amount. */\r\n  addMonthsToDate: (date: Date, amount: number) => Date;\r\n\r\n  /** Returns all days in the month, split apart by week. Includes leading/trailing days. */\r\n  getCalendarView: (date: Date) => Date[][];\r\n\r\n  /** Get the day number component for a given date */\r\n  getDayNumber: (date: Date) => number;\r\n\r\n  /** Get full names of all days of the week */\r\n  getDaysOfWeek: (displaySize: DisplaySize) => string[];\r\n\r\n  /** Get the day of week grid index for the end of the event. Used for positioning within the Week css-grid. */\r\n  getGridEndIndex: (eventEndDate: Date, endOfWeek: Date) => number;\r\n\r\n  /** Get the day of week index for the start of the event. Used for positioning within the Week css-grid */\r\n  getGridStartIndex: (eventDate: Date, startOfWeek: Date) => number;\r\n\r\n  /** Get the full name of the month for a given date */\r\n  getMonthName: (date: Date) => string;\r\n\r\n  /** Get the year component for a given date */\r\n  getYear: (date: Date) => number;\r\n\r\n  /** Convert and ISO format string to a Date object */\r\n  convertIsoToDate: (isoDate: string) => Date;\r\n\r\n  /** Returns true if the date represent today */\r\n  isDateToday: (date: Date) => boolean;\r\n\r\n  /** Does the event fall within or span the supplied week */\r\n  isEventInWeek: (\r\n    eventStartDate: Date,\r\n    eventEndDate: Date,\r\n    week: Date[]\r\n  ) => boolean;\r\n\r\n  /** Compare two dates, returns true if they are in the same month, in the same year */\r\n  isSameMonth: (firstDate: Date, secondDate: Date) => boolean;\r\n\r\n  /** Is the supplied month the same as the current month */\r\n  isCurrentMonth: (date: Date) => boolean;\r\n}\r\n\r\nexport enum DisplaySize {\r\n  tiny,\r\n  medium,\r\n  large,\r\n}\r\n","import { ActionState } from '@/types/ActionState';\r\nimport { InternalCalendarEvent } from '@/types/InternalCalendarEvent';\r\nimport { PropsWithChildren, createContext, useCallback } from 'react';\r\n\r\nexport const ActionContext = createContext<ActionState | null>(null);\r\nActionContext.displayName = 'ActionContext';\r\n\r\ninterface ActionProviderProps {\r\n  actions?: Partial<ActionState>;\r\n}\r\n\r\n/**\r\n * Provides fuctions/actions to components. By default, onClick events send objects to the console.\r\n * @param {ReactNode} children Child nodes\r\n * @param onEventClick function that will run when an event is clicked on\r\n * @param onMoreEventClick function that will run when the 'more events' indicator is clicked on\r\n * @returns ActionProvider component\r\n */\r\nexport const ActionProvider = ({\r\n  children,\r\n  actions,\r\n}: PropsWithChildren<ActionProviderProps>) => {\r\n  const onEventClick = actions?.onEventClick\r\n    ? actions?.onEventClick\r\n    : (event: InternalCalendarEvent) => console.log(event);\r\n\r\n  const onMoreEventClick = actions?.onMoreEventClick\r\n    ? actions?.onMoreEventClick\r\n    : (events: InternalCalendarEvent[]) => console.log(events);\r\n\r\n  const onMonthChangeClick = actions?.onMonthChangeClick\r\n    ? actions?.onMonthChangeClick\r\n    : (firstOfMonth: Date, lastOfMonth: Date) =>\r\n        console.log({ firstOfMonth, lastOfMonth });\r\n\r\n  const memoizedOnEventClick = useCallback(onEventClick, [onEventClick]);\r\n\r\n  const memoizedOnMoreEventClick = useCallback(onMoreEventClick, [\r\n    onMoreEventClick,\r\n  ]);\r\n\r\n  const memoizedOnMonthChangeClick = useCallback(onMonthChangeClick, [\r\n    onMonthChangeClick,\r\n  ]);\r\n\r\n  const context: ActionState = {\r\n    onEventClick: memoizedOnEventClick,\r\n    onMoreEventClick: memoizedOnMoreEventClick,\r\n    onMonthChangeClick: memoizedOnMonthChangeClick,\r\n  };\r\n\r\n  return (\r\n    <ActionContext.Provider value={context}>{children}</ActionContext.Provider>\r\n  );\r\n};\r\n","import { DisplaySize } from '../types';\r\nimport { useCallback, useEffect, useState } from 'react';\r\n\r\n/**\r\n * Watch the size of the screen and make it available as the DisplaySize enum.\r\n * @returns Current display size\r\n */\r\nexport const useScreenSize = () => {\r\n  const [screenSize, setScreenSize] = useState<DisplaySize>(DisplaySize.large);\r\n\r\n  const createQueryListener = useCallback(\r\n    (mediaQuery: string, size: DisplaySize) => {\r\n      const media = window.matchMedia(mediaQuery);\r\n      if (media.matches && screenSize !== size) setScreenSize(size);\r\n\r\n      const listener = () => setScreenSize(size);\r\n      window.addEventListener('resize', listener);\r\n      return listener;\r\n    },\r\n    [setScreenSize, screenSize]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const tinyQuery = createQueryListener(\r\n      '(max-width: 480px)',\r\n      DisplaySize.tiny\r\n    );\r\n\r\n    const mediumQuery = createQueryListener(\r\n      '(max-width: 768px) and (min-width: 481px)',\r\n      DisplaySize.medium\r\n    );\r\n\r\n    const largeQuery = createQueryListener(\r\n      '(min-width: 769px)',\r\n      DisplaySize.large\r\n    );\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', tinyQuery);\r\n      window.removeEventListener('resize', mediumQuery);\r\n      window.removeEventListener('resize', largeQuery);\r\n    };\r\n  }, [createQueryListener]);\r\n\r\n  return screenSize;\r\n};\r\n","import {\r\n  CalendarEvent,\r\n  CalendarState,\r\n  DateTimeAdapter,\r\n  InternalCalendarEvent,\r\n  InternalEventWeek,\r\n} from '@/types/index';\r\nimport {\r\n  PropsWithChildren,\r\n  createContext,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport { useScreenSize } from '@/hooks/useScreenSize';\r\n\r\nexport const CalendarContext = createContext<CalendarState | null>(null);\r\nCalendarContext.displayName = 'CalendarContext';\r\n\r\ninterface CalendarProviderProps {\r\n  dateAdapter: DateTimeAdapter;\r\n  initialDate: string;\r\n  calendarEvents: CalendarEvent[];\r\n  rootDiv: React.RefObject<HTMLDivElement>;\r\n}\r\n\r\n/**\r\n * The provides access to data and behaviors that control the calendar\r\n * @param param0 CalendarProviderProps\r\n * @returns CalendarContext.Provider component\r\n */\r\nexport const CalendarProvider = ({\r\n  dateAdapter,\r\n  initialDate,\r\n  calendarEvents,\r\n  rootDiv,\r\n  children,\r\n}: PropsWithChildren<CalendarProviderProps>) => {\r\n  const [currentMonth, setCurrentMonth] = useState(\r\n    dateAdapter.convertIsoToDate(initialDate)\r\n  );\r\n  const [rootDimensions, setRootDimensions] = useState<DOMRect | undefined>(\r\n    rootDiv?.current?.getBoundingClientRect()\r\n  );\r\n  const [dayHeightPx, setDayHeightPx] = useState<number>();\r\n\r\n  const screenSize = useScreenSize();\r\n\r\n  const daysOfWeek = useMemo(\r\n    () => dateAdapter.getDaysOfWeek(screenSize),\r\n    [screenSize, dateAdapter]\r\n  );\r\n\r\n  const calendarView = useMemo(\r\n    () => dateAdapter.getCalendarView(currentMonth),\r\n    [currentMonth, dateAdapter]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (rootDiv?.current) {\r\n      const boundingBox = rootDiv?.current?.getBoundingClientRect();\r\n      setRootDimensions(boundingBox);\r\n      setDayHeightPx(boundingBox.height / calendarView.length);\r\n      console.log(boundingBox.height / calendarView.length);\r\n      console.log(boundingBox.height);\r\n    }\r\n  }, [setRootDimensions, rootDiv, calendarView]);\r\n\r\n  const events = useMemo(\r\n    () =>\r\n      calendarEvents\r\n        .map((x) => {\r\n          const internalEvent: InternalCalendarEvent = {\r\n            start: dateAdapter.convertIsoToDate(x.start),\r\n            end: dateAdapter.convertIsoToDate(x.end),\r\n            color: x.color,\r\n            id: x.id,\r\n            summary: x.summary,\r\n          };\r\n          return internalEvent;\r\n        })\r\n        .filter(\r\n          (event) =>\r\n            dateAdapter.isSameMonth(event.start, currentMonth) ||\r\n            dateAdapter.isSameMonth(event.end, currentMonth)\r\n        ),\r\n    [currentMonth, calendarEvents, dateAdapter]\r\n  );\r\n\r\n  const calendarWithEvents = useMemo<InternalEventWeek[]>(\r\n    () =>\r\n      calendarView.map<InternalEventWeek>((week) => ({\r\n        weekStart: week[0],\r\n        weekEnd: week[6],\r\n        daysInWeek: week,\r\n        events: events.filter((event) =>\r\n          dateAdapter.isEventInWeek(event.start, event.end, week)\r\n        ),\r\n        eventsOnDays: week.map((day) => ({\r\n          date: day,\r\n          events: events.filter(\r\n            (event) => event.start <= day && event.end >= day\r\n          ),\r\n        })),\r\n      })),\r\n    [calendarView, events, dateAdapter]\r\n  );\r\n\r\n  const onNextMonth = useCallback(\r\n    () => setCurrentMonth((month) => dateAdapter.addMonthsToDate(month, 1)),\r\n    [dateAdapter]\r\n  );\r\n\r\n  const onNextYear = useCallback(\r\n    () => setCurrentMonth((month) => dateAdapter.addMonthsToDate(month, 12)),\r\n    [dateAdapter]\r\n  );\r\n\r\n  const onPrevMonth = useCallback(\r\n    () => setCurrentMonth((month) => dateAdapter.addMonthsToDate(month, -1)),\r\n    [dateAdapter]\r\n  );\r\n\r\n  const onPrevYear = useCallback(\r\n    () => setCurrentMonth((month) => dateAdapter.addMonthsToDate(month, -12)),\r\n    [dateAdapter]\r\n  );\r\n\r\n  const contextValue: CalendarState = {\r\n    currentMonth,\r\n    dateAdapter: dateAdapter,\r\n    daysOfWeek: daysOfWeek,\r\n    onNextMonth,\r\n    onNextYear,\r\n    onPrevMonth,\r\n    onPrevYear,\r\n    calendarWithEvents,\r\n    calendarBoundingBox: rootDimensions,\r\n    dayHeightPx,\r\n  };\r\n\r\n  return (\r\n    <CalendarContext.Provider value={contextValue}>\r\n      {children}\r\n    </CalendarContext.Provider>\r\n  );\r\n};\r\n","import { DayComponent } from '@/types/index';\r\n\r\nexport const DefaultDay: DayComponent = ({\r\n  isCurrentMonth,\r\n  isToday,\r\n  dateNumber,\r\n  events,\r\n  isOverflowed,\r\n  onClick,\r\n}) => {\r\n  const dayHeader = isToday ? (\r\n    <div className=\"default-day-header--indicator\">\r\n      <span className=\"default-day-header--text\">{dateNumber}</span>\r\n    </div>\r\n  ) : (\r\n    <span className=\"default-day-header--text\">{dateNumber}</span>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={`default-day ${\r\n        isCurrentMonth ? 'default-day-current' : 'default-day-sibling'\r\n      }`}\r\n    >\r\n      <div className=\"default-day-header\">{dayHeader}</div>\r\n      {isOverflowed && (\r\n        <div\r\n          className=\"additional-events-indicator\"\r\n          title={`(${events.length}) total events`}\r\n          onClick={() => onClick(events)}\r\n        >\r\n          ...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { EventComponent } from '@/types/index';\r\n\r\n/**\r\n * This component is the UI representation of events on the calendar\r\n * @returns DefaultEvent Component\r\n */\r\nexport const DefaultEvent: EventComponent = ({ event, isHovered, onClick }) => (\r\n  <div\r\n    className={`event ${isHovered ? 'event-selected' : 'event-unselected'}`}\r\n    style={{\r\n      backgroundColor: event.color,\r\n    }}\r\n    title={event.summary}\r\n    onClick={() => onClick(event)}\r\n  >\r\n    {event.summary}\r\n  </div>\r\n);\r\n","import { HeaderComponent } from '@/types/index';\r\n\r\n/**\r\n * The default header representation\r\n * @param {HeaderProps}\r\n * @returns DefaultHeader component\r\n */\r\nexport const DefaultHeader: HeaderComponent = ({\r\n  month,\r\n  year,\r\n  onNextMonth,\r\n  onNextYear,\r\n  onPrevMonth,\r\n  onPrevYear,\r\n  isCurrentMonth,\r\n}) => {\r\n  return (\r\n    <div className=\"header-layout\">\r\n      <button\r\n        className=\"header-button\"\r\n        title=\"Previous Month\"\r\n        onClick={onPrevMonth}\r\n      >\r\n        <strong>{'‹'}</strong>\r\n      </button>\r\n      <button\r\n        className=\"header-button\"\r\n        title=\"Previous Year\"\r\n        onClick={onPrevYear}\r\n      >\r\n        <strong>{'«'}</strong>\r\n      </button>\r\n\r\n      <div className=\"header-banner\">\r\n        <h2 style={{ display: 'inline-block' }}>\r\n          {month} - {year}\r\n          {isCurrentMonth && (\r\n            <div className=\"current-month-indicator\" title=\"Current Month\" />\r\n          )}\r\n        </h2>\r\n      </div>\r\n\r\n      <button className=\"header-button\" title=\"Next Year\" onClick={onNextYear}>\r\n        <strong>{'»'}</strong>\r\n      </button>\r\n      <button\r\n        className=\"header-button\"\r\n        title=\"Next Month\"\r\n        onClick={onNextMonth}\r\n      >\r\n        <strong>{'›'}</strong>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import { DefaultDay, DefaultEvent, DefaultHeader } from '../components';\r\nimport { PropsWithChildren, createContext } from 'react';\r\nimport { SchedulelyComponents } from '@/types/index';\r\nimport React from 'react';\r\n\r\nexport const ComponentContext = createContext<SchedulelyComponents | null>(\r\n  null\r\n);\r\nComponentContext.displayName = 'ComponentContext';\r\n\r\ninterface ComponentProviderProps {\r\n  calendarComponents?: Partial<SchedulelyComponents>;\r\n}\r\n\r\n/**\r\n * Provides the layout components with the visible calendar components\r\n * @param param0 Partial<SchedulelyComponents> that will over-ride the default components\r\n * @returns ComponentProvider component\r\n */\r\nexport const ComponentProvider = ({\r\n  calendarComponents,\r\n  children,\r\n}: PropsWithChildren<ComponentProviderProps>) => {\r\n  const components = calendarComponents\r\n    ? { ...defaultComponents, ...calendarComponents }\r\n    : defaultComponents;\r\n\r\n  const contextValue: SchedulelyComponents = {\r\n    dayComponent: React.memo(components.dayComponent),\r\n    headerComponent: React.memo(components.headerComponent),\r\n    eventComponent: React.memo(components.eventComponent),\r\n  };\r\n\r\n  return (\r\n    <ComponentContext.Provider value={contextValue}>\r\n      {children}\r\n    </ComponentContext.Provider>\r\n  );\r\n};\r\n\r\nconst defaultComponents: SchedulelyComponents = {\r\n  dayComponent: DefaultDay,\r\n  headerComponent: DefaultHeader,\r\n  eventComponent: DefaultEvent,\r\n};\r\n","import { HighlightEventState } from '@/types/HighlightEventState';\r\nimport { ReactNode, createContext, useCallback, useState } from 'react';\r\n\r\nexport const HighlightContext = createContext<HighlightEventState | null>(null);\r\nHighlightContext.displayName = 'HighlightContext';\r\n\r\n/**\r\n * Enables highlighting of events that span multiple weeks. Kinda hacky but it works.\r\n * @param {ReactNode} children Child nodes\r\n * @returns HighlightProvider component\r\n */\r\nexport const HighlightProvider = ({ children }: { children: ReactNode }) => {\r\n  const [highlightedEvent, setHighlightedEvent] = useState<string | undefined>(\r\n    undefined\r\n  );\r\n\r\n  const isHighlighted = useCallback(\r\n    (eventId: string) => highlightedEvent === eventId,\r\n    [highlightedEvent]\r\n  );\r\n\r\n  const context: HighlightEventState = {\r\n    setHighlight: (eventId: string) => setHighlightedEvent(eventId),\r\n    clearHighlight: () => setHighlightedEvent(undefined),\r\n    isHighlighted,\r\n  };\r\n\r\n  return (\r\n    <HighlightContext.Provider value={context}>\r\n      {children}\r\n    </HighlightContext.Provider>\r\n  );\r\n};\r\n","import { CalendarContext } from '@/providers/CalendarProvider';\r\nimport { useContext } from 'react';\r\n\r\nexport const useCalendar = () => {\r\n  const calendar = useContext(CalendarContext);\r\n  if (!calendar)\r\n    throw new Error('useCalendar must be used within CalendarProvider');\r\n  return calendar;\r\n};\r\n","import { useCalendar } from '@/hooks/useCalendar';\r\n\r\n/**\r\n * This component controls the layout of the names of the days of the week at the top of the calendar\r\n * @returns DayOfWeekLayout Component\r\n */\r\nexport const DayOfWeekLayout = () => {\r\n  const { daysOfWeek } = useCalendar();\r\n\r\n  return (\r\n    <div className=\"day-of-week-layout\">\r\n      {/* We cheat a bit here and use the index as part of the key. This is because short day names can be identical. */}\r\n      {daysOfWeek.map((dayOfWeek, idx) => (\r\n        <div key={`${dayOfWeek}-${idx}`}>\r\n          {/* wrap with extra div so we can control borders without touching the DayOfWeek component */}\r\n          <div className=\"default-day-of-week\">{dayOfWeek}</div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import { HighlightContext } from '@/providers/HightlightProvider';\r\nimport { useContext } from 'react';\r\n\r\nexport const useEventHighlight = () => {\r\n  const highlight = useContext(HighlightContext);\r\n  if (!highlight)\r\n    throw new Error('useHighlight must be used within HighlightProvider');\r\n  return highlight;\r\n};\r\n","import { MutableRefObject, useEffect, useRef, useState } from 'react';\r\n\r\ntype EventIntersectionProps = Omit<IntersectionObserverInit, 'root'> & {\r\n  root: MutableRefObject<null>;\r\n};\r\n\r\n/**\r\n * Check if the eventContainerRef is outside the bounds of the root container.\r\n * If true, isOverlapping will be set to true\r\n * @param param0 EventIntersectionProps\r\n * @returns\r\n */\r\nexport const useEventIntersection = ({\r\n  root,\r\n  rootMargin = '0px 0px -1% 0px',\r\n  threshold = 1,\r\n}: EventIntersectionProps) => {\r\n  const eventContainerRef = useRef(null);\r\n  const [isOverlapping, setIsOverlapping] = useState<boolean>(false);\r\n\r\n  /**\r\n   * If any part of the element is hidden or touching the edge, set overlap to true\r\n   * @param entries IntersectionObserverEntry[]\r\n   */\r\n  const checkIntersection: IntersectionObserverCallback = (entries) =>\r\n    entries.map((x) => x.intersectionRatio < 1 && setIsOverlapping(true));\r\n\r\n  useEffect(() => {\r\n    const eventContainer = eventContainerRef.current;\r\n\r\n    const observer = new IntersectionObserver(checkIntersection, {\r\n      root: root.current,\r\n      rootMargin,\r\n      threshold,\r\n    });\r\n\r\n    if (eventContainer) observer.observe(eventContainer);\r\n\r\n    return () => {\r\n      if (eventContainer) observer.unobserve(eventContainer);\r\n    };\r\n  });\r\n\r\n  return { eventContainerRef, isOverlapping };\r\n};\r\n","import { InternalCalendarEvent } from '@/types/InternalCalendarEvent';\r\nimport { MutableRefObject, PropsWithChildren } from 'react';\r\nimport { useEventHighlight } from '@/hooks/useEventHighlight';\r\nimport { useEventIntersection } from '@/hooks/useEventIntersection';\r\n\r\ninterface EventPositionLayoutProps {\r\n  event: InternalCalendarEvent;\r\n  startIndex: number;\r\n  endIndex: number;\r\n  parentContainerRef: MutableRefObject<null>;\r\n}\r\n\r\n/**\r\n * This component controls the position of an individual event within an event week\r\n * @returns EventPositionLayout Component\r\n */\r\nexport const EventPositionLayout = ({\r\n  event,\r\n  startIndex,\r\n  endIndex,\r\n  children,\r\n  parentContainerRef,\r\n}: PropsWithChildren<EventPositionLayoutProps>) => {\r\n  const { setHighlight, clearHighlight } = useEventHighlight();\r\n  const { eventContainerRef, isOverlapping } = useEventIntersection({\r\n    root: parentContainerRef,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"event-position-layout\"\r\n      data-eventid={event.id}\r\n      style={{\r\n        gridColumnStart: startIndex,\r\n        gridColumnEnd: endIndex,\r\n        display: isOverlapping ? 'none' : undefined,\r\n      }}\r\n      onMouseOver={() => setHighlight(event.id)}\r\n      onMouseLeave={clearHighlight}\r\n      ref={eventContainerRef}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import { ActionContext } from '@/providers/index';\r\nimport { useContext } from 'react';\r\n\r\nexport const useActions = () => {\r\n  const actions = useContext(ActionContext);\r\n  if (!actions)\r\n    throw new Error('useActions must be used within ActionProvider');\r\n  return actions;\r\n};\r\n","import { ComponentContext } from '@/providers/ComponentProvider';\r\nimport { useContext } from 'react';\r\n\r\nexport const useComponents = () => {\r\n  const calendar = useContext(ComponentContext);\r\n  if (!calendar)\r\n    throw new Error('useComponents must be used within ComponentProvider');\r\n  return calendar;\r\n};\r\n","import { EventPositionLayout } from '@/layouts/eventPositionLayout';\r\nimport { InternalCalendarEvent } from '@/types/InternalCalendarEvent';\r\nimport { useActions } from '@/hooks/useActions';\r\nimport { useCalendar } from '@/hooks/useCalendar';\r\nimport { useComponents } from '@/hooks/useComponents';\r\nimport { useEventHighlight } from '@/hooks/useEventHighlight';\r\nimport { useRef } from 'react';\r\n\r\ninterface EventLayoutProps {\r\n  events: InternalCalendarEvent[];\r\n  daysInweek: Date[];\r\n}\r\n\r\n/**\r\n * This component controls the layout of an individual events within a week\r\n * @returns EventLayout Component\r\n */\r\nexport const EventWeekLayout = ({ events, daysInweek }: EventLayoutProps) => {\r\n  const {\r\n    dateAdapter: { getGridStartIndex, getGridEndIndex },\r\n  } = useCalendar();\r\n  const { eventComponent: EventComponent } = useComponents();\r\n  const { isHighlighted } = useEventHighlight();\r\n  const { onEventClick } = useActions();\r\n  const weekLayoutRef = useRef(null);\r\n  const { dayHeightPx } = useCalendar();\r\n\r\n  /** Event week height needs to be constrained to week height and prevent overflow */\r\n\r\n  return (\r\n    <div\r\n      ref={weekLayoutRef}\r\n      className=\"event-week-layout\"\r\n      style={{ height: dayHeightPx }}\r\n    >\r\n      {/** This div creates space for the DayComponent header on the calendar layer */}\r\n      <div\r\n        style={{\r\n          gridColumnStart: 1,\r\n          gridColumnEnd: 8,\r\n        }}\r\n      />\r\n      {weekLayoutRef &&\r\n        events.map((event) => (\r\n          <EventPositionLayout\r\n            key={event.id}\r\n            event={event}\r\n            startIndex={getGridStartIndex(event.start, daysInweek[0])}\r\n            endIndex={getGridEndIndex(event.end, daysInweek[6])}\r\n            parentContainerRef={weekLayoutRef}\r\n          >\r\n            <EventComponent\r\n              event={event}\r\n              isHovered={isHighlighted(event.id)}\r\n              onClick={onEventClick}\r\n            />\r\n          </EventPositionLayout>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n","import { useCalendar } from './useCalendar';\r\nimport { useCallback, useEffect } from 'react';\r\n\r\n/**\r\n * Enables keyboard controls.\r\n * TODO: This could be expanded to allow for users to pass in their own keybindings\r\n */\r\nexport const useKeyboardControls = () => {\r\n  const { onNextMonth, onNextYear, onPrevMonth, onPrevYear } = useCalendar();\r\n\r\n  const navigatePrevMonth = useCallback(\r\n    (event: KeyboardEvent) => {\r\n      if (event.key === 'ArrowLeft') onPrevMonth();\r\n    },\r\n    [onPrevMonth]\r\n  );\r\n\r\n  const navigatePrevYear = useCallback(\r\n    (event: KeyboardEvent) => {\r\n      if (event.key === 'ArrowDown') onPrevYear();\r\n    },\r\n    [onPrevYear]\r\n  );\r\n\r\n  const navigateNextMonth = useCallback(\r\n    (event: KeyboardEvent) => {\r\n      if (event.key === 'ArrowRight') onNextMonth();\r\n    },\r\n    [onNextMonth]\r\n  );\r\n\r\n  const navigateNextYear = useCallback(\r\n    (event: KeyboardEvent) => {\r\n      if (event.key === 'ArrowUp') onNextYear();\r\n    },\r\n    [onNextYear]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', navigatePrevMonth);\r\n    document.addEventListener('keydown', navigatePrevYear);\r\n    document.addEventListener('keydown', navigateNextMonth);\r\n    document.addEventListener('keydown', navigateNextYear);\r\n    () => {\r\n      document.removeEventListener('keydown', navigatePrevMonth);\r\n      document.removeEventListener('keydown', navigatePrevYear);\r\n      document.removeEventListener('keydown', navigateNextMonth);\r\n      document.removeEventListener('keydown', navigateNextYear);\r\n    };\r\n  }, [\r\n    navigatePrevMonth,\r\n    navigateNextMonth,\r\n    navigatePrevYear,\r\n    navigateNextYear,\r\n  ]);\r\n};\r\n","import { useActions, useCalendar, useComponents } from '@/hooks/index';\r\nimport { useEffect } from 'react';\r\nimport { useKeyboardControls } from '@/hooks/index';\r\n\r\n/**\r\n * This component controls the layout of the header that display the controls and the current month/year description\r\n * @returns HeaderLayout component\r\n */\r\nexport const HeaderLayout = () => {\r\n  const {\r\n    currentMonth,\r\n    onNextMonth,\r\n    onNextYear,\r\n    onPrevYear,\r\n    onPrevMonth,\r\n    dateAdapter: { getMonthName, getYear, isCurrentMonth },\r\n  } = useCalendar();\r\n\r\n  const { onMonthChangeClick } = useActions();\r\n\r\n  const { headerComponent: Header } = useComponents();\r\n\r\n  useEffect(() => {\r\n    const firstOfMonth = new Date(\r\n      currentMonth.getFullYear(),\r\n      currentMonth.getMonth(),\r\n      1\r\n    );\r\n    const lastOfMonth = new Date(\r\n      firstOfMonth.getFullYear(),\r\n      firstOfMonth.getMonth() + 1,\r\n      1,\r\n      0,\r\n      0,\r\n      -1\r\n    );\r\n    onMonthChangeClick(firstOfMonth, lastOfMonth);\r\n  }, [currentMonth, onMonthChangeClick]);\r\n\r\n  useKeyboardControls();\r\n\r\n  return (\r\n    <Header\r\n      isCurrentMonth={isCurrentMonth(currentMonth)}\r\n      month={getMonthName(currentMonth)}\r\n      year={getYear(currentMonth)}\r\n      onNextMonth={onNextMonth}\r\n      onNextYear={onNextYear}\r\n      onPrevMonth={onPrevMonth}\r\n      onPrevYear={onPrevYear}\r\n    />\r\n  );\r\n};\r\n","import { InternalCalendarEvent } from '@/types/InternalCalendarEvent';\r\nimport { useActions } from '@/hooks/useActions';\r\nimport { useCalendar, useComponents } from '@/hooks/index';\r\nimport { useCallback } from 'react';\r\n\r\ninterface WeekLayoutProps {\r\n  dates: Date[];\r\n  eventsOnDays: { date: Date; events: InternalCalendarEvent[] }[];\r\n}\r\n\r\n/**\r\n * This component controls the layout of an individual weeks worth of days\r\n * @returns WeekLayout Component\r\n */\r\nexport const WeekLayout = ({ dates, eventsOnDays }: WeekLayoutProps) => {\r\n  const { dateAdapter, currentMonth, dayHeightPx } = useCalendar();\r\n\r\n  const { dayComponent: DayComponent } = useComponents();\r\n\r\n  const { onMoreEventClick } = useActions();\r\n\r\n  /**\r\n   * Display 'more events' indicator.\r\n   * This feels like it doesn't belong here, not sure where to move it\r\n   * Also not a great solution because it forces Day to be 7em, rather than detect overflow\r\n   */\r\n  const hasEventOverflow = useCallback(\r\n    (date: Date, overflowLimit = 3) => {\r\n      const events = eventsOnDays.find((x) => x.date === date)?.events;\r\n      if (!events) return false;\r\n      if (events.length > overflowLimit) return true;\r\n      return false;\r\n    },\r\n    [eventsOnDays]\r\n  );\r\n\r\n  return (\r\n    <div className=\"week-layout\" style={{ height: dayHeightPx }}>\r\n      {dates.map((day) => (\r\n        <div\r\n          key={day.getDate()}\r\n          data-day={day.getDate()}\r\n          data-istoday={dateAdapter.isDateToday(day) ? true : undefined}\r\n        >\r\n          <DayComponent\r\n            isCurrentMonth={dateAdapter.isSameMonth(day, currentMonth)}\r\n            isToday={dateAdapter.isDateToday(day)}\r\n            dateNumber={dateAdapter.getDayNumber(day)}\r\n            isOverflowed={hasEventOverflow(day)}\r\n            events={eventsOnDays.find((x) => x.date === day)?.events || []}\r\n            onClick={onMoreEventClick}\r\n          />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import { EventWeekLayout } from '@/layouts/eventWeekLayout';\r\nimport { HighlightProvider } from '@/providers/HightlightProvider';\r\nimport { WeekLayout } from '@/layouts/weekLayout';\r\nimport { useCalendar } from '@/hooks/useCalendar';\r\n\r\n/**\r\n * This component controls the layout of the weeks of the calendar\r\n * @returns MonthLayout Component\r\n */\r\nexport const MonthLayout = () => {\r\n  const { calendarWithEvents } = useCalendar();\r\n\r\n  return (\r\n    <HighlightProvider>\r\n      {calendarWithEvents.map((week, idx) => (\r\n        <div key={idx} className=\"week-container\" data-week={idx}>\r\n          {/* If we have no events, don't bother rendering the event grid */}\r\n          {!!week.events.length && (\r\n            <EventWeekLayout\r\n              events={week.events}\r\n              daysInweek={week.daysInWeek}\r\n            />\r\n          )}\r\n          <WeekLayout\r\n            eventsOnDays={week.eventsOnDays}\r\n            dates={week.daysInWeek}\r\n          />\r\n        </div>\r\n      ))}\r\n    </HighlightProvider>\r\n  );\r\n};\r\n","import { DateTimeAdapter, DisplaySize } from '@/types/index';\r\n\r\n/**\r\n * Create an instance of the default date adapter\r\n * @param locale Locale override\r\n * @returns DateTimeAdapter\r\n */\r\nexport const createDefaultAdapter = (locale = 'en'): DateTimeAdapter => {\r\n  /** Map used to translate DisplaySize in to Intl day name format */\r\n  const map = new Map<DisplaySize, 'long' | 'narrow' | 'short'>([\r\n    [DisplaySize.large, 'long'],\r\n    [DisplaySize.medium, 'short'],\r\n    [DisplaySize.tiny, 'narrow'],\r\n  ]);\r\n\r\n  const getDaysOfWeek = (displaySize: DisplaySize) => {\r\n    const formatter = new Intl.DateTimeFormat(locale, {\r\n      weekday: map.get(displaySize),\r\n    });\r\n    return [0, 1, 2, 3, 4, 5, 6].map((x) =>\r\n      formatter.format(new Date(2012, 0, x + 1))\r\n    );\r\n  };\r\n\r\n  const getCalendarView = (date: Date) => {\r\n    const startOfMonth = new Date(date.getFullYear(), date.getMonth(), 1);\r\n    const endOfMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0);\r\n\r\n    const finalsOfPrevMonth = [];\r\n    const currentMonth = [];\r\n    const startsOfSchedulely = [];\r\n\r\n    let iteratedDate = startOfMonth;\r\n    while (iteratedDate.getDay() !== 0) {\r\n      iteratedDate = new Date(\r\n        iteratedDate.getFullYear(),\r\n        iteratedDate.getMonth(),\r\n        iteratedDate.getDate() - 1\r\n      );\r\n      finalsOfPrevMonth.push(iteratedDate);\r\n    }\r\n\r\n    iteratedDate = startOfMonth;\r\n    while (iteratedDate.getMonth() === startOfMonth.getMonth()) {\r\n      currentMonth.push(iteratedDate);\r\n      iteratedDate = new Date(\r\n        iteratedDate.getFullYear(),\r\n        iteratedDate.getMonth(),\r\n        iteratedDate.getDate() + 1\r\n      );\r\n    }\r\n\r\n    iteratedDate = endOfMonth;\r\n    //only gather enough days until sunday\r\n    while (iteratedDate.getDay() + 1 !== 7) {\r\n      iteratedDate = new Date(\r\n        iteratedDate.getFullYear(),\r\n        iteratedDate.getMonth(),\r\n        iteratedDate.getDate() + 1\r\n      );\r\n      startsOfSchedulely.push(iteratedDate);\r\n    }\r\n\r\n    const flatMonthView = [\r\n      ...finalsOfPrevMonth.reverse(),\r\n      ...currentMonth,\r\n      ...startsOfSchedulely,\r\n    ];\r\n\r\n    return [...Array(Math.ceil(flatMonthView.length / 7))].map(() =>\r\n      flatMonthView.splice(0, 7)\r\n    );\r\n  };\r\n\r\n  const getMonthName = (date: Date) => {\r\n    const formatter = new Intl.DateTimeFormat(locale, {\r\n      month: 'long',\r\n    });\r\n    return formatter.format(date);\r\n  };\r\n\r\n  const getYear = (date: Date) => date.getFullYear();\r\n\r\n  const getDayNumber = (date: Date) => date.getDate();\r\n\r\n  const isSameMonth = (firstDate: Date, secondDate: Date) =>\r\n    getYear(firstDate) === getYear(secondDate) &&\r\n    firstDate.getMonth() === secondDate.getMonth();\r\n\r\n  const isDateToday = (date: Date) => {\r\n    const today = new Date();\r\n    return isSameMonth(date, today) && date.getDate() === today.getDate();\r\n  };\r\n\r\n  const addMonthsToDate = (date: Date, amount: number) =>\r\n    new Date(date.getFullYear(), date.getMonth() + amount, 1);\r\n\r\n  const getGridStartIndex = (eventDate: Date, startOfWeek: Date) =>\r\n    eventDate <= startOfWeek ? 1 : eventDate.getDay() + 1; //add one because css-grid isn't zero-index'd\r\n\r\n  const getGridEndIndex = (eventEndDate: Date, endOfWeek: Date) => {\r\n    if (eventEndDate > endOfWeek) return 8;\r\n    const end = eventEndDate.getDay() + 2; // add two because css-grid isn't zero index'd, and day of week is zero-index'd\r\n    return end;\r\n  };\r\n\r\n  const isEventInWeek = (\r\n    eventStartDate: Date,\r\n    eventEndDate: Date,\r\n    week: Date[]\r\n  ) => {\r\n    if (week.length !== 7) throw new Error('Week length must be 7');\r\n    const eventStartInWeek =\r\n      eventStartDate >= week[0] && eventStartDate <= week[6];\r\n    const eventEndsInWeek = eventEndDate >= week[0] && eventEndDate <= week[6];\r\n    const eventSpansWeek = eventStartDate <= week[0] && eventEndDate >= week[6];\r\n    return eventSpansWeek || eventStartInWeek || eventEndsInWeek;\r\n  };\r\n\r\n  const convertIsoToDate = (isoDate: string) => new Date(isoDate);\r\n\r\n  return {\r\n    getCalendarView,\r\n    getDaysOfWeek,\r\n    getMonthName,\r\n    getYear,\r\n    getDayNumber,\r\n    isSameMonth,\r\n    isDateToday,\r\n    addMonthsToDate,\r\n    getGridEndIndex,\r\n    getGridStartIndex,\r\n    isEventInWeek,\r\n    convertIsoToDate,\r\n    isCurrentMonth: () => true,\r\n  };\r\n};\r\n","import './Schedulely.scss';\r\n\r\nimport {\r\n  ActionProvider,\r\n  CalendarProvider,\r\n  ComponentProvider,\r\n} from '@/providers/index';\r\nimport { DayOfWeekLayout, HeaderLayout, MonthLayout } from '@/layouts/index';\r\nimport { SchedulelyProps } from '@/types/index';\r\nimport { createDefaultAdapter } from './dateAdapters';\r\nimport { useRef } from 'react';\r\n\r\n/**\r\n * Create an instance of Schedulely\r\n * @param {SchedulelyProps} param0 Schedulely configuration properties\r\n * @returns\r\n */\r\nexport const Schedulely = ({\r\n  dateAdapter = createDefaultAdapter(),\r\n  schedulelyComponents,\r\n  events,\r\n  theme,\r\n  additionalClassNames = [],\r\n  actions,\r\n  dark,\r\n  initialDate = new Date().toISOString(),\r\n}: SchedulelyProps) => {\r\n  if (!dateAdapter) throw new Error('Date Adapter must be supplied!');\r\n  const calendarBodyRef = useRef<HTMLDivElement>(null);\r\n\r\n  return (\r\n    <div\r\n      id=\"schedulely\"\r\n      className={[...additionalClassNames, 'schedulely'].join(' ')}\r\n      data-theme={theme}\r\n      data-dark={dark ? '' : undefined}\r\n    >\r\n      <ActionProvider actions={actions}>\r\n        <ComponentProvider calendarComponents={schedulelyComponents}>\r\n          <CalendarProvider\r\n            initialDate={initialDate}\r\n            dateAdapter={dateAdapter}\r\n            calendarEvents={events}\r\n            rootDiv={calendarBodyRef}\r\n          >\r\n            <HeaderLayout />\r\n            <DayOfWeekLayout />\r\n            <div ref={calendarBodyRef}>\r\n              <MonthLayout />\r\n            </div>\r\n          </CalendarProvider>\r\n        </ComponentProvider>\r\n      </ActionProvider>\r\n    </div>\r\n  );\r\n};\r\n"],"names":["DisplaySize","ActionContext","createContext","displayName","ActionProvider","children","actions","onEventClick","event","console","log","onMoreEventClick","events","onMonthChangeClick","firstOfMonth","lastOfMonth","memoizedOnEventClick","useCallback","memoizedOnMoreEventClick","memoizedOnMonthChangeClick","React","createElement","Provider","value","tiny","medium","large","useScreenSize","screenSize","setScreenSize","useState","createQueryListener","mediaQuery","size","media","window","matchMedia","matches","listener","addEventListener","useEffect","tinyQuery","mediumQuery","largeQuery","removeEventListener","CalendarContext","CalendarProvider","dateAdapter","initialDate","calendarEvents","rootDiv","currentMonth","setCurrentMonth","convertIsoToDate","rootDimensions","setRootDimensions","current","getBoundingClientRect","dayHeightPx","setDayHeightPx","daysOfWeek","useMemo","getDaysOfWeek","calendarView","getCalendarView","boundingBox","height","length","map","x","start","end","color","id","summary","filter","isSameMonth","calendarWithEvents","week","weekStart","weekEnd","daysInWeek","isEventInWeek","eventsOnDays","day","date","onNextMonth","month","addMonthsToDate","onNextYear","onPrevMonth","onPrevYear","calendarBoundingBox","DefaultDay","isCurrentMonth","isToday","dateNumber","isOverflowed","onClick","dayHeader","div","className","span","title","DefaultEvent","isHovered","style","backgroundColor","DefaultHeader","year","button","strong","h2","display","ComponentContext","ComponentProvider","calendarComponents","components","e","defaultComponents","contextValue","dayComponent","memo","headerComponent","eventComponent","r","HighlightContext","HighlightProvider","highlightedEvent","setHighlightedEvent","undefined","isHighlighted","eventId","setHighlight","clearHighlight","useCalendar","calendar","useContext","Error","DayOfWeekLayout","dayOfWeek","idx","key","useEventHighlight","highlight","useEventIntersection","root","rootMargin","threshold","eventContainerRef","useRef","isOverlapping","setIsOverlapping","checkIntersection","entries","intersectionRatio","eventContainer","observer","IntersectionObserver","observe","unobserve","EventPositionLayout","startIndex","endIndex","parentContainerRef","data-eventid","gridColumnStart","gridColumnEnd","onMouseOver","onMouseLeave","ref","useActions","useComponents","EventWeekLayout","daysInweek","getGridStartIndex","getGridEndIndex","EventComponent","weekLayoutRef","useKeyboardControls","navigatePrevMonth","navigatePrevYear","navigateNextMonth","navigateNextYear","document","HeaderLayout","getMonthName","getYear","Header","Date","getFullYear","getMonth","WeekLayout","dates","DayComponent","hasEventOverflow","overflowLimit","find","getDate","data-day","data-istoday","isDateToday","getDayNumber","MonthLayout","data-week","createDefaultAdapter","locale","Map","firstDate","secondDate","today","startOfMonth","endOfMonth","finalsOfPrevMonth","startsOfSchedulely","iteratedDate","getDay","push","flatMonthView","reverse","Array","Math","ceil","splice","displaySize","formatter","Intl","DateTimeFormat","weekday","get","format","amount","eventEndDate","endOfWeek","eventDate","startOfWeek","eventStartDate","eventStartInWeek","eventEndsInWeek","eventSpansWeek","isoDate","Schedulely","schedulelyComponents","theme","additionalClassNames","dark","toISOString","calendarBodyRef","join","data-theme","data-dark"],"mappings":"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"}